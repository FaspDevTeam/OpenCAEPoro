

|                 |  NR  |  LS  | LinearSolve | AssembleMat | ratio | CalFlux | ratio | Flash  | ratio | MassCon | ratio | CalKrPc | ratio |  Total   |
| :-------------: | :--: | :--: | :---------: | :---------: | :---: | :-----: | :---: | :----: | :---: | :-----: | :---: | :-----: | :---: | :------: |
|  **40x40x40**   | 100  | 215  |    6.855    |    0.878    |   1   |  0.635  |   1   | 0.521  |   1   |  0.191  |   1   |  0.121  |   1   |  9.707   |
|  **80x40x40**   | 100  | 300  |    22.51    |    1.777    | 1.012 |  1.229  | 0.968 | 1.025  | 0.984 |  0.352  | 0.921 |  0.230  | 0.950 |  28.128  |
|  **80x80x40**   | 100  | 300  |   52.649    |    3.542    | 0.997 |  2.474  | 1.007 | 2.124  | 1.036 |  0.710  | 1.009 |  0.466  | 1.013 |  64.046  |
|  **80x80x80**   | 100  | 399  |   100.455   |    6.952    | 0.981 |  4.970  | 1.004 | 4.082  | 0.961 |  1.427  | 1.005 |  0.945  | 1.014 | 122.999  |
|  **160x80x80**  | 100  | 300  |   216.79    |   15.216    | 1.094 | 10.253  | 1.031 | 8.157  | 0.999 |  2.933  | 1.028 |  1.839  | 0.973 | 263.954  |
| **160x160x80**  | 100  | 462  |   600.186   |   33.649    | 1.106 | 20.928  | 1.021 | 16.477 | 1.010 |  6.037  | 1.029 |  3.776  | 1.027 | 698.636  |
| **160x160x160** | 220  | 892  |  1734.768   |   149.672   | 1.011 | 93.956  | 1.020 | 74.811 | 1.032 | 26.578  | 1.001 | 16.340  | 0.983 | 2173.013 |





### 40 x 40 x 40

![image-20210928174948628](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928174948628.png)

### 80 x 40 x 40 

![image-20210928175316611](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928175316611.png)

### 80 x 80 x 40

![image-20210928175653010](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928175653010.png)

### 80 x 80 x80

![image-20210928180103172](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928180103172.png)

### 160 x 80 x 80

![image-20210928180743828](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928180743828.png)



### 160 x 160 x 80

![image-20210928182251829](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928182251829.png)



![image-20210928182504454](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928182504454.png)



### 160 x 160 x160

![image-20210928191010173](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928191010173.png)

![image-20210928191029050](C:\Users\96224\AppData\Roaming\Typora\typora-user-images\image-20210928191029050.png)





### Grid

测试当前组装网格连接关系是否具备线性可扩展性，首先测试整个 SetupSimulation 阶段，时间为运行多次，取最短用时。

| SetupSimulation | time(sec) |      |
| :-------------: | :-------: | ---- |
|    40x40x40     |   0.063   |      |
|    80x40x40     |   0.126   |      |
|    80x80x40     |   0.256   |      |
|    80x80x80     |   0.488   |      |
|    160x80x80    |   0.978   |      |
|   160x160x80    |   1.98    |      |
|   160x160x160   |   4.035   |      |
|                 |           |      |
|                 |           |      |

SetupSimulation 包括

* 将输入参数从内部参数结构读入到模拟器各模块
* 将各模块的参数准备好——可以进行初始化和迭代计算
* 最核心耗时的部分是构建网格的连接关系 & Bulk 间的连接关系

